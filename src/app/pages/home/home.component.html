<section>
  <div class="shadow-xl px-10 w-full sticky top-[40px] pt-6 pb-4 overflow-hidden bg-white z-10 ">
    <app-search (search)="onSearch($event)" class="search-box"></app-search>
  </div>
  <div class="container mx-auto">
    @if (loading || lastSearchTerm.length > 2) {
      <div>
        <app-package-list
          [packageEntries]="packageEntries"
          [totalCount]="pagination.totalDataLength"
          [loading]="loading"
        ></app-package-list>

        @if (pagination.totalDataLength > 0) {
          <cds-pagination
            [model]="pagination"
            (selectPage)="selectPage($event)"
          ></cds-pagination>
        }
      </div>
    }
    @if (!loading && lastSearchTerm.length <= 2) {
      <div class="search-introduction my-10 flex items-center justify-center">
      <div class="text-white text-center max-w-xl space-y-4 py-12">
        <h1 class="text-2xl font-bold pb-2">NPM Packages</h1>
        <h2 class="font-bold text-lg">
          Bring the best of open source to you, your team, and your company
        </h2>
        <p>
          Relied upon by more than 17 million developers worldwide, npm is
          committed to making JavaScript development elegant, productive, and
          safe. The free npm Registry has become the center of JavaScript code
          sharing, and with more than two million packages, the largest software
          registry in the world. Our other tools and services take the Registry,
          and the work you do around it, to the next level.
        </p>
        <a href="https://www.npmjs.com/" target="_blank" cdsLink>Learn more...</a>
      </div>
      </div>
    }
  </div>
</section>
